import{a as X,b as A,c as K,d as Q,e as ee,f as te,i as oe,m as ne,o as u}from"./chunk-4ZH674ES.js";import{$ as H,$a as L,Bc as J,Da as T,K as w,Lb as V,Sb as h,T as F,Ta as N,Ua as O,W as _,Wa as D,Wb as $,Xb as W,Y as r,Ya as j,ba as l,ca as C,d as x,ec as Y,ga as c,hb as U,ja as E,k as S,m as P,mb as z,oc as Z,r as R,rb as k,sb as B,tb as m,va as M,xc as q,zc as G}from"./chunk-OGOGSWCX.js";var ie=[{path:"admin",loadChildren:()=>import("./chunk-C6ZVFIEO.js").then(o=>o.AdminModule)},{path:"**",redirectTo:"admin/asesores",pathMatch:"full"}];var pe="@",de=(()=>{class o{constructor(t,n,i,a,s){this.doc=t,this.delegate=n,this.zone=i,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=C(D,{optional:!0}),this.loadingSchedulerFn=C(ce,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-GJOEEAXV.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(i=>{throw new _(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:a})=>{this._engine=i(this.animationType,this.doc);let s=new a(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,n){let i=this.delegate.createRenderer(t,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let a=new I(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let le=s.createRenderer(t,n);a.use(le),this.scheduler?.notify(10)}).catch(s=>{a.use(i)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){O()}}static{this.\u0275prov=r({token:o,factory:o.\u0275fac})}}return o})(),I=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,i){this.delegate.insertBefore(e,t,n,i)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(pe)}},ce=new H("");function re(o="animations"){return L("NgAsyncAnimations"),E([{provide:j,useFactory:(e,t,n)=>new de(e,t,n,o),deps:[Z,ee,M]},{provide:T,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var d=class o{_loading=new S(!1);loading$=this._loading.asObservable();show(){this._loading.next(!0)}hide(){this._loading.next(!1)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})};var f=class o{constructor(e){this.loadingService=e}intercept(e,t){return this.loadingService.show(),t.handle(e).pipe(w(()=>this.loadingService.hide()))}static \u0275fac=function(t){return new(t||o)(l(d))};static \u0275prov=r({token:o,factory:o.\u0275fac})};var g=class o{constructor(e){this.http=e}apiUrl=u.apiUrl;token=null;tokenExp=null;tokenPromise=null;getToken(){return x(this,null,function*(){return this.token&&this.tokenExp&&Date.now()<this.tokenExp?this.token:this.tokenPromise?this.tokenPromise:(this.tokenPromise=R(this.http.post(`${this.apiUrl}/auth/token`,{})).then(e=>(this.token=e.access_token,this.tokenExp=this.getTokenExpiration(e.access_token),this.tokenPromise=null,this.token)).catch(e=>{throw this.tokenPromise=null,e}),this.tokenPromise)})}clearToken(){this.token=null,this.tokenExp=null,this.tokenPromise=null}getTokenExpiration(e){return JSON.parse(atob(e.split(".")[1])).exp*1e3}static \u0275fac=function(t){return new(t||o)(l(X))};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})};var y=class o{constructor(e){this.auth=e}intercept(e,t){return e.url.includes("/auth/token")||!e.url.startsWith(u.apiUrl)?t.handle(e):P(this.auth.getToken()).pipe(F(n=>{let i=e.clone({setHeaders:{Authorization:`Bearer ${n}`}});return t.handle(i)}))}static \u0275fac=function(t){return new(t||o)(l(g))};static \u0275prov=r({token:o,factory:o.\u0275fac})};var se={providers:[Y({eventCoalescing:!0}),ne(ie),re("noop"),K(Q()),{provide:A,useClass:f,multi:!0},{provide:A,useClass:y,multi:!0}]};function ue(o,e){o&1&&(k(0,"div",1),m(1,"div",2),k(2,"span",3),V(3,"Cargando..."),B()())}var v=class o{constructor(e){this.loadingService=e}static \u0275fac=function(t){return new(t||o)(N(d))};static \u0275cmp=c({type:o,selectors:[["shared-loading"]],standalone:!0,features:[h],decls:2,vars:3,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"loading-text"]],template:function(t,n){t&1&&(U(0,ue,4,0,"div",0),$(1,"async")),t&2&&z("ngIf",W(1,1,n.loadingService.loading$))},dependencies:[J,q,G],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2000}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid var(--color-green);border-radius:50%;width:70px;height:70px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:12px}.loading-text[_ngcontent-%COMP%]{color:var(--color-text);font-size:18px;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var b=class o{title="whatsapp-monitor";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=c({type:o,selectors:[["app-root"]],standalone:!0,features:[h],decls:2,vars:0,template:function(t,n){t&1&&m(0,"shared-loading")(1,"router-outlet")},dependencies:[oe,v]})};te(b,se).catch(o=>console.error(o));
